Comment...
 h1: Test request/clear transfer
Creating contract KT1TezoooozzSmartPyzzSTATiCzzzwwBFA1
 -> (Pair "tz1edhNSiBfAcXGs3QXfmgZyrTfNW15rxKNP" (Pair "tz1L56d6bidEZte597cReSK18Ni3V9EZYTsT" (Pair 10000000 (Pair 10000000 (Pair 1000000 (Pair 50 {}))))))
file TestRequestClearTransfer/step_002_cont_0_storage.tz
file TestRequestClearTransfer/step_002_cont_0_storage.json
file TestRequestClearTransfer/step_002_cont_0_storage.py
file TestRequestClearTransfer/step_002_cont_0_types.py
file TestRequestClearTransfer/step_002_cont_0_contract.tz contract SmartContract
file TestRequestClearTransfer/step_002_cont_0_contract.json contract SmartContract
Comment...
 p: A correct mint to be able to test
file TestRequestClearTransfer/step_004_cont_0_params.py
file TestRequestClearTransfer/step_004_cont_0_params.tz
file TestRequestClearTransfer/step_004_cont_0_params.json
Executing mint(sp.record(curr_owner_info = ['a', 'b'], svl_key = '2021-12-31T23:59:59Ztz1iRXmfLXK5wWVok4MATJiw3UsgKkH9vrwX'))...
 -> (Pair "tz1edhNSiBfAcXGs3QXfmgZyrTfNW15rxKNP" (Pair "tz1L56d6bidEZte597cReSK18Ni3V9EZYTsT" (Pair 10000000 (Pair 10000000 (Pair 1000000 (Pair 50 {Elt "2021-12-31T23:59:59Ztz1iRXmfLXK5wWVok4MATJiw3UsgKkH9vrwX" (Pair False (Pair {"a"; "b"} (Pair True (Pair "tz1QgbZeoK6iSxS8hhGhRHeaMebGuyfWLY28" (Pair {Pair "1970-01-01T00:00:00Z" (Pair "tz1QgbZeoK6iSxS8hhGhRHeaMebGuyfWLY28" {""})} (Pair 10000000 "tz1QgbZeoK6iSxS8hhGhRHeaMebGuyfWLY28"))))))}))))))
  + Transfer
     params: ()
     amount: sp.tez(5)
     to:     sp.contract(sp.unit, sp.address('tz1edhNSiBfAcXGs3QXfmgZyrTfNW15rxKNP')).open_some()
  + Transfer
     params: ()
     amount: sp.tez(5)
     to:     sp.contract(sp.unit, sp.address('tz1L56d6bidEZte597cReSK18Ni3V9EZYTsT')).open_some()
Comment...
 p: Fails because incorrect amount of tezos
file TestRequestClearTransfer/step_006_cont_0_params.py
file TestRequestClearTransfer/step_006_cont_0_params.tz
file TestRequestClearTransfer/step_006_cont_0_params.json
Executing requestTransfer('2021-12-31T23:59:59Ztz1iRXmfLXK5wWVok4MATJiw3UsgKkH9vrwX')...
Expected error: '1'
Comment...
 p: Passes
file TestRequestClearTransfer/step_008_cont_0_params.py
file TestRequestClearTransfer/step_008_cont_0_params.tz
file TestRequestClearTransfer/step_008_cont_0_params.json
Executing requestTransfer('2021-12-31T23:59:59Ztz1iRXmfLXK5wWVok4MATJiw3UsgKkH9vrwX')...
 -> (Pair "tz1edhNSiBfAcXGs3QXfmgZyrTfNW15rxKNP" (Pair "tz1L56d6bidEZte597cReSK18Ni3V9EZYTsT" (Pair 10000000 (Pair 10000000 (Pair 1000000 (Pair 50 {Elt "2021-12-31T23:59:59Ztz1iRXmfLXK5wWVok4MATJiw3UsgKkH9vrwX" (Pair False (Pair {"a"; "b"} (Pair True (Pair "tz1QgbZeoK6iSxS8hhGhRHeaMebGuyfWLY28" (Pair {Pair "1970-01-01T00:00:00Z" (Pair "tz1QgbZeoK6iSxS8hhGhRHeaMebGuyfWLY28" {""})} (Pair 10000000 "tz1V2hvwkWKzrau7ATxvXCDhwhdUtmqJk4gX"))))))}))))))
  + Transfer
     params: ()
     amount: sp.mutez(500000)
     to:     sp.contract(sp.unit, sp.address('tz1edhNSiBfAcXGs3QXfmgZyrTfNW15rxKNP')).open_some()
  + Transfer
     params: ()
     amount: sp.mutez(500000)
     to:     sp.contract(sp.unit, sp.address('tz1L56d6bidEZte597cReSK18Ni3V9EZYTsT')).open_some()
Comment...
 p: Passes
file TestRequestClearTransfer/step_010_cont_0_params.py
file TestRequestClearTransfer/step_010_cont_0_params.tz
file TestRequestClearTransfer/step_010_cont_0_params.json
Executing requesterClearTransferRequest('2021-12-31T23:59:59Ztz1iRXmfLXK5wWVok4MATJiw3UsgKkH9vrwX')...
 -> (Pair "tz1edhNSiBfAcXGs3QXfmgZyrTfNW15rxKNP" (Pair "tz1L56d6bidEZte597cReSK18Ni3V9EZYTsT" (Pair 10000000 (Pair 10000000 (Pair 1000000 (Pair 50 {Elt "2021-12-31T23:59:59Ztz1iRXmfLXK5wWVok4MATJiw3UsgKkH9vrwX" (Pair False (Pair {"a"; "b"} (Pair True (Pair "tz1QgbZeoK6iSxS8hhGhRHeaMebGuyfWLY28" (Pair {Pair "1970-01-01T00:00:00Z" (Pair "tz1QgbZeoK6iSxS8hhGhRHeaMebGuyfWLY28" {""})} (Pair 10000000 "tz1QgbZeoK6iSxS8hhGhRHeaMebGuyfWLY28"))))))}))))))
Comment...
 p: Fails because the owner cannot request their svl
file TestRequestClearTransfer/step_012_cont_0_params.py
file TestRequestClearTransfer/step_012_cont_0_params.tz
file TestRequestClearTransfer/step_012_cont_0_params.json
Executing requestTransfer('2021-12-31T23:59:59Ztz1iRXmfLXK5wWVok4MATJiw3UsgKkH9vrwX')...
Expected error: '5'
Comment...
 p: Passes
file TestRequestClearTransfer/step_014_cont_0_params.py
file TestRequestClearTransfer/step_014_cont_0_params.tz
file TestRequestClearTransfer/step_014_cont_0_params.json
Executing requestTransfer('2021-12-31T23:59:59Ztz1iRXmfLXK5wWVok4MATJiw3UsgKkH9vrwX')...
 -> (Pair "tz1edhNSiBfAcXGs3QXfmgZyrTfNW15rxKNP" (Pair "tz1L56d6bidEZte597cReSK18Ni3V9EZYTsT" (Pair 10000000 (Pair 10000000 (Pair 1000000 (Pair 50 {Elt "2021-12-31T23:59:59Ztz1iRXmfLXK5wWVok4MATJiw3UsgKkH9vrwX" (Pair False (Pair {"a"; "b"} (Pair True (Pair "tz1QgbZeoK6iSxS8hhGhRHeaMebGuyfWLY28" (Pair {Pair "1970-01-01T00:00:00Z" (Pair "tz1QgbZeoK6iSxS8hhGhRHeaMebGuyfWLY28" {""})} (Pair 10000000 "tz1V2hvwkWKzrau7ATxvXCDhwhdUtmqJk4gX"))))))}))))))
  + Transfer
     params: ()
     amount: sp.mutez(500000)
     to:     sp.contract(sp.unit, sp.address('tz1edhNSiBfAcXGs3QXfmgZyrTfNW15rxKNP')).open_some()
  + Transfer
     params: ()
     amount: sp.mutez(500000)
     to:     sp.contract(sp.unit, sp.address('tz1L56d6bidEZte597cReSK18Ni3V9EZYTsT')).open_some()
Comment...
 p: Fails because svl has already been requested
file TestRequestClearTransfer/step_016_cont_0_params.py
file TestRequestClearTransfer/step_016_cont_0_params.tz
file TestRequestClearTransfer/step_016_cont_0_params.json
Executing requestTransfer('2021-12-31T23:59:59Ztz1iRXmfLXK5wWVok4MATJiw3UsgKkH9vrwX')...
Expected error: '6'
Comment...
 p: Fails because only the requester can clear the request
file TestRequestClearTransfer/step_018_cont_0_params.py
file TestRequestClearTransfer/step_018_cont_0_params.tz
file TestRequestClearTransfer/step_018_cont_0_params.json
Executing requesterClearTransferRequest('2021-12-31T23:59:59Ztz1iRXmfLXK5wWVok4MATJiw3UsgKkH9vrwX')...
Expected error: '4'
Comment...
 p: Fails because only the owner can clear the request
file TestRequestClearTransfer/step_020_cont_0_params.py
file TestRequestClearTransfer/step_020_cont_0_params.tz
file TestRequestClearTransfer/step_020_cont_0_params.json
Executing ownerClearTransferRequest('2021-12-31T23:59:59Ztz1iRXmfLXK5wWVok4MATJiw3UsgKkH9vrwX')...
Expected error: '3'
Comment...
 p: Passes
file TestRequestClearTransfer/step_022_cont_0_params.py
file TestRequestClearTransfer/step_022_cont_0_params.tz
file TestRequestClearTransfer/step_022_cont_0_params.json
Executing ownerClearTransferRequest('2021-12-31T23:59:59Ztz1iRXmfLXK5wWVok4MATJiw3UsgKkH9vrwX')...
 -> (Pair "tz1edhNSiBfAcXGs3QXfmgZyrTfNW15rxKNP" (Pair "tz1L56d6bidEZte597cReSK18Ni3V9EZYTsT" (Pair 10000000 (Pair 10000000 (Pair 1000000 (Pair 50 {Elt "2021-12-31T23:59:59Ztz1iRXmfLXK5wWVok4MATJiw3UsgKkH9vrwX" (Pair False (Pair {"a"; "b"} (Pair True (Pair "tz1QgbZeoK6iSxS8hhGhRHeaMebGuyfWLY28" (Pair {Pair "1970-01-01T00:00:00Z" (Pair "tz1QgbZeoK6iSxS8hhGhRHeaMebGuyfWLY28" {""})} (Pair 10000000 "tz1QgbZeoK6iSxS8hhGhRHeaMebGuyfWLY28"))))))}))))))
Comment...
 p: Fails because only the owner can accept the request
file TestRequestClearTransfer/step_024_cont_0_params.py
file TestRequestClearTransfer/step_024_cont_0_params.tz
file TestRequestClearTransfer/step_024_cont_0_params.json
Executing ownerAcceptTransferRequest('2021-12-31T23:59:59Ztz1iRXmfLXK5wWVok4MATJiw3UsgKkH9vrwX')...
Expected error: '3'
Comment...
 p: Fails because there is not a request to accept
file TestRequestClearTransfer/step_026_cont_0_params.py
file TestRequestClearTransfer/step_026_cont_0_params.tz
file TestRequestClearTransfer/step_026_cont_0_params.json
Executing ownerAcceptTransferRequest('2021-12-31T23:59:59Ztz1iRXmfLXK5wWVok4MATJiw3UsgKkH9vrwX')...
Expected error: '7'
Comment...
 p: Passes
file TestRequestClearTransfer/step_028_cont_0_params.py
file TestRequestClearTransfer/step_028_cont_0_params.tz
file TestRequestClearTransfer/step_028_cont_0_params.json
Executing requestTransfer('2021-12-31T23:59:59Ztz1iRXmfLXK5wWVok4MATJiw3UsgKkH9vrwX')...
 -> (Pair "tz1edhNSiBfAcXGs3QXfmgZyrTfNW15rxKNP" (Pair "tz1L56d6bidEZte597cReSK18Ni3V9EZYTsT" (Pair 10000000 (Pair 10000000 (Pair 1000000 (Pair 50 {Elt "2021-12-31T23:59:59Ztz1iRXmfLXK5wWVok4MATJiw3UsgKkH9vrwX" (Pair False (Pair {"a"; "b"} (Pair True (Pair "tz1QgbZeoK6iSxS8hhGhRHeaMebGuyfWLY28" (Pair {Pair "1970-01-01T00:00:00Z" (Pair "tz1QgbZeoK6iSxS8hhGhRHeaMebGuyfWLY28" {""})} (Pair 10000000 "tz1V2hvwkWKzrau7ATxvXCDhwhdUtmqJk4gX"))))))}))))))
  + Transfer
     params: ()
     amount: sp.mutez(500000)
     to:     sp.contract(sp.unit, sp.address('tz1edhNSiBfAcXGs3QXfmgZyrTfNW15rxKNP')).open_some()
  + Transfer
     params: ()
     amount: sp.mutez(500000)
     to:     sp.contract(sp.unit, sp.address('tz1L56d6bidEZte597cReSK18Ni3V9EZYTsT')).open_some()
Comment...
 p: Passes
file TestRequestClearTransfer/step_030_cont_0_params.py
file TestRequestClearTransfer/step_030_cont_0_params.tz
file TestRequestClearTransfer/step_030_cont_0_params.json
Executing ownerAcceptTransferRequest('2021-12-31T23:59:59Ztz1iRXmfLXK5wWVok4MATJiw3UsgKkH9vrwX')...
 -> (Pair "tz1edhNSiBfAcXGs3QXfmgZyrTfNW15rxKNP" (Pair "tz1L56d6bidEZte597cReSK18Ni3V9EZYTsT" (Pair 10000000 (Pair 10000000 (Pair 1000000 (Pair 50 {Elt "2021-12-31T23:59:59Ztz1iRXmfLXK5wWVok4MATJiw3UsgKkH9vrwX" (Pair True (Pair {"a"; "b"} (Pair True (Pair "tz1QgbZeoK6iSxS8hhGhRHeaMebGuyfWLY28" (Pair {Pair "1970-01-01T00:00:00Z" (Pair "tz1QgbZeoK6iSxS8hhGhRHeaMebGuyfWLY28" {""})} (Pair 10000000 "tz1V2hvwkWKzrau7ATxvXCDhwhdUtmqJk4gX"))))))}))))))
