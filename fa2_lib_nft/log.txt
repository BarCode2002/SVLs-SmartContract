Comment...
 h1: FA2 NFT contract test
Creating contract KT1TezoooozzSmartPyzzSTATiCzzzwwBFA1
 -> (Pair "tz1SfRoaCkrBkXqTzhz67QYVPJAU9Y2g48kq" (Pair {Elt 0 "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi"; Elt 1 "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi"; Elt 2 "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C"} (Pair {Elt "" 0x697066733a2f2f6578616d706c65} (Pair 3 (Pair {} {Elt 0 (Pair 0 {Elt "decimals" 0x31; Elt "name" 0x546f6b656e205a65726f; Elt "symbol" 0x546f6b30}); Elt 1 (Pair 1 {Elt "decimals" 0x31; Elt "name" 0x546f6b656e204f6e65; Elt "symbol" 0x546f6b31}); Elt 2 (Pair 2 {Elt "decimals" 0x31; Elt "name" 0x546f6b656e2054776f; Elt "symbol" 0x546f6b32})})))))
file fa2_lib_nft/step_002_cont_0_storage.tz
file fa2_lib_nft/step_002_cont_0_storage.json
file fa2_lib_nft/step_002_cont_0_storage.py
file fa2_lib_nft/step_002_cont_0_types.py
file fa2_lib_nft/step_002_cont_0_contract.tz contract MyNFTContract
file fa2_lib_nft/step_002_cont_0_contract.json contract MyNFTContract
Comment...
 h2: Verify the initial owners of the tokens
Verifying sp.static_view(0, "get_balance", sp.record(owner = sp.test_account("Alice").address, token_id = 0)) == 1...
 OK
Verifying sp.static_view(0, "get_balance", sp.record(owner = sp.test_account("Bob").address, token_id = 0)) == 0...
 OK
Verifying sp.static_view(0, "get_balance", sp.record(owner = sp.test_account("Alice").address, token_id = 1)) == 1...
 OK
Verifying sp.static_view(0, "get_balance", sp.record(owner = sp.test_account("Bob").address, token_id = 1)) == 0...
 OK
Verifying sp.static_view(0, "get_balance", sp.record(owner = sp.test_account("Alice").address, token_id = 2)) == 0...
 OK
Verifying sp.static_view(0, "get_balance", sp.record(owner = sp.test_account("Bob").address, token_id = 2)) == 1...
 OK
Verifying sp.static_view(0, "total_supply", sp.record(token_id = 0)) == 1...
 OK
Verifying sp.static_view(0, "total_supply", sp.record(token_id = 1)) == 1...
 OK
Verifying sp.static_view(0, "total_supply", sp.record(token_id = 2)) == 1...
 OK
Comment...
 h2: Transfer a token
file fa2_lib_nft/step_014_cont_0_params.py
file fa2_lib_nft/step_014_cont_0_params.tz
file fa2_lib_nft/step_014_cont_0_params.json
Executing transfer([sp.record(from_ = sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), txs = [sp.record(to_ = sp.address('tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C'), token_id = 0, amount = 1)])])...
 -> (Pair "tz1SfRoaCkrBkXqTzhz67QYVPJAU9Y2g48kq" (Pair {Elt 0 "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C"; Elt 1 "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi"; Elt 2 "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C"} (Pair {Elt "" 0x697066733a2f2f6578616d706c65} (Pair 3 (Pair {} {Elt 0 (Pair 0 {Elt "decimals" 0x31; Elt "name" 0x546f6b656e205a65726f; Elt "symbol" 0x546f6b30}); Elt 1 (Pair 1 {Elt "decimals" 0x31; Elt "name" 0x546f6b656e204f6e65; Elt "symbol" 0x546f6b31}); Elt 2 (Pair 2 {Elt "decimals" 0x31; Elt "name" 0x546f6b656e2054776f; Elt "symbol" 0x546f6b32})})))))
Verifying sp.static_view(0, "get_balance", sp.record(owner = sp.test_account("Alice").address, token_id = 0)) == 0...
 OK
Verifying sp.static_view(0, "get_balance", sp.record(owner = sp.test_account("Bob").address, token_id = 0)) == 1...
 OK
file fa2_lib_nft/step_017_cont_0_params.py
file fa2_lib_nft/step_017_cont_0_params.tz
file fa2_lib_nft/step_017_cont_0_params.json
Executing transfer([sp.record(from_ = sp.address('tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C'), txs = [sp.record(to_ = sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), token_id = 0, amount = 1)])])...
 -> (Pair "tz1SfRoaCkrBkXqTzhz67QYVPJAU9Y2g48kq" (Pair {Elt 0 "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi"; Elt 1 "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi"; Elt 2 "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C"} (Pair {Elt "" 0x697066733a2f2f6578616d706c65} (Pair 3 (Pair {} {Elt 0 (Pair 0 {Elt "decimals" 0x31; Elt "name" 0x546f6b656e205a65726f; Elt "symbol" 0x546f6b30}); Elt 1 (Pair 1 {Elt "decimals" 0x31; Elt "name" 0x546f6b656e204f6e65; Elt "symbol" 0x546f6b31}); Elt 2 (Pair 2 {Elt "decimals" 0x31; Elt "name" 0x546f6b656e2054776f; Elt "symbol" 0x546f6b32})})))))
Comment...
 h2: Mint a token
file fa2_lib_nft/step_019_cont_0_params.py
file fa2_lib_nft/step_019_cont_0_params.tz
file fa2_lib_nft/step_019_cont_0_params.json
Executing mint([sp.record(to_ = sp.address('tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C'), metadata = {'decimals' : sp.bytes('0x31'), 'name' : sp.bytes('0x546f6b656e205468726565'), 'symbol' : sp.bytes('0x546f6b33')})])...
Expected error: 'FA2_NOT_ADMIN'
file fa2_lib_nft/step_020_cont_0_params.py
file fa2_lib_nft/step_020_cont_0_params.tz
file fa2_lib_nft/step_020_cont_0_params.json
Executing mint([sp.record(to_ = sp.address('tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C'), metadata = {'decimals' : sp.bytes('0x31'), 'name' : sp.bytes('0x546f6b656e205468726565'), 'symbol' : sp.bytes('0x546f6b33')})])...
 -> (Pair "tz1SfRoaCkrBkXqTzhz67QYVPJAU9Y2g48kq" (Pair {Elt 0 "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi"; Elt 1 "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi"; Elt 2 "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C"; Elt 3 "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C"} (Pair {Elt "" 0x697066733a2f2f6578616d706c65} (Pair 4 (Pair {} {Elt 0 (Pair 0 {Elt "decimals" 0x31; Elt "name" 0x546f6b656e205a65726f; Elt "symbol" 0x546f6b30}); Elt 1 (Pair 1 {Elt "decimals" 0x31; Elt "name" 0x546f6b656e204f6e65; Elt "symbol" 0x546f6b31}); Elt 2 (Pair 2 {Elt "decimals" 0x31; Elt "name" 0x546f6b656e2054776f; Elt "symbol" 0x546f6b32}); Elt 3 (Pair 3 {Elt "decimals" 0x31; Elt "name" 0x546f6b656e205468726565; Elt "symbol" 0x546f6b33})})))))
Verifying sp.static_view(0, "total_supply", sp.record(token_id = 3)) == 1...
 OK
Verifying sp.static_view(0, "get_balance", sp.record(owner = sp.test_account("Alice").address, token_id = 3)) == 0...
 OK
Verifying sp.static_view(0, "get_balance", sp.record(owner = sp.test_account("Bob").address, token_id = 3)) == 1...
 OK
Comment...
 h2: Burn a token
file fa2_lib_nft/step_025_cont_0_params.py
file fa2_lib_nft/step_025_cont_0_params.tz
file fa2_lib_nft/step_025_cont_0_params.json
Executing burn([sp.record(from_ = sp.address('tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C'), token_id = 3, amount = 1)])...
Expected error: 'FA2_NOT_OPERATOR'
file fa2_lib_nft/step_026_cont_0_params.py
file fa2_lib_nft/step_026_cont_0_params.tz
file fa2_lib_nft/step_026_cont_0_params.json
Executing burn([sp.record(from_ = sp.address('tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C'), token_id = 3, amount = 1)])...
 -> (Pair "tz1SfRoaCkrBkXqTzhz67QYVPJAU9Y2g48kq" (Pair {Elt 0 "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi"; Elt 1 "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi"; Elt 2 "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C"} (Pair {Elt "" 0x697066733a2f2f6578616d706c65} (Pair 4 (Pair {} {Elt 0 (Pair 0 {Elt "decimals" 0x31; Elt "name" 0x546f6b656e205a65726f; Elt "symbol" 0x546f6b30}); Elt 1 (Pair 1 {Elt "decimals" 0x31; Elt "name" 0x546f6b656e204f6e65; Elt "symbol" 0x546f6b31}); Elt 2 (Pair 2 {Elt "decimals" 0x31; Elt "name" 0x546f6b656e2054776f; Elt "symbol" 0x546f6b32})})))))
